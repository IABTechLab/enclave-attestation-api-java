name: Setup Dependancies
inputs:
  key:
    descriptions: 'The Key to be imported'
    required: true
    type: string

runs:
  using: "composite"
  steps:
    - name: Setup settings.xml
      shell: bash
      run: |
        echo "<settings>\n<servers>\n<server>\n<id>\${repo.id}</id>\n<username>\${repo.login}</username>\n<password>\${repo.pwd}</password>\n</server>\n</servers>\n</settings>" > ~/.m2/settings.xml
    - name: Import GPG key 
      shell: bash
      run: |
        echo -n "$GPG_SIGNING_KEY" | base64 --decode > private.key 
        gpg --batch --import private.key
      env:
        GPG_SIGNING_KEY: ${{ inputs.key }}
